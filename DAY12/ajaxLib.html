<!DOCTYPE html>
<html lang="ko-KR">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta charset="UTF-8">
  <title>Ajax Library</title>
  <!-- window.y9 {} 라이브러리 파일 -->
  <script src="../libs/DOM_lib.js"></script>
  <!-- window.y9 {} Ajax 메소드 추가 파일 -->
  <script>
    (function(global, $){
      'use strict';

      // Ajax 라이브러리 사용할 초기 설정 값을 기억하는 객체
      var ajax_default_settings = {
        'method': 'GET',
        'url': null,
        'success': function(){},
        'error': function(){}
      };

      // window.y9 생성자 함수 객체의 정적 메소드 추가
      $.include('ajax', function(obj){
        // Ajax 비동기 통신 Logic 코드 구현
        // 설계
        // 전달인자 [매개변수] 몇 개? 어떤 값? 값의 유형에 따라 어떻게 처리?
        // 오류 유무 판단
        if (!obj) { throw new Error('y9.ajax()의 첫번째 인자는 필수입니다.'); }
        var settings = {};
        // 전달인자의 유형
        switch ( $.type(obj) ) {
          // 1. 통신하고자 하는 데이터의 위치를 문자열로 전달
          case 'string':
            // console.log('전달된 인자 유형은 문자 데이터입니다.');
            settings = $.extend({}, ajax_default_settings);
            settings.url = obj;
          break;
          // 2. 상세하게 각각의 속성을 가진 객체 리터럴을 전달
          case 'object':
            // console.log('전달된 인자 유형은 객체 데이터입니다.');
            $.extend(settings, ajax_default_settings);
            $.extend(settings, obj);
            // console.log(settings);
            // console.log(ajax_default_settings);
          break;
          default:
            console.error('문자 또는 객체 유형을 전달해야 합니다.');
        }

        // settings 란? 사용자가 설정한 값을 기본 값에 덮어 쓴 설정 객체
        // 설정 객체를 가지고 Ajax를 수행하는 코드를 완성
      });

    })(this, this.y9);
  </script>
  <!-- 사용자가 프로젝트에 작성하는 파일 -->
  <script>
    (function(global, $){
      'use strict';

      $.ajax({
        'url': '/DAY11/Ajax-SPA/data/data.html'
      });

      // console.log(!!$.ajax);
      // $.ajax('data/data.json');
      // $.ajax('data/data.json', function(){});
      // $.ajax('data/data.json').then(function() {

      // }, function() {

      // });
      // $.ajax({
      //   'method': 'GET',
      //   'src': 'data/data.json',
      //   'success': function(){},
      //   'error': function(){}
      // });

    })(this, this.y9);
  </script>
</head>
<body>

</body>
</html>